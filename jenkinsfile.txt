pipeline{
    agent{
        label 'MAVEN'
    }
    options{
        timeout(time: 30, unit: 'MINUTES')
    }
    triggers{
        pollSCM('* * * * *')
    }
    stages{
        stage('git'){
            steps{
            git url: 'https://github.com/sivapujithapathipati87/spring-petclinic.git',
            branch: 'dev'
                 }
        }
      stage('build'){
        steps{
            sh 'mvn clean package'
        }
      }
    }
    post{
        always{
            echo 'say hello to every one'
        }
        success{
            mail subject: 'build is success',
                  to: 'sivapujithapathipati@gmail.com'      
        }
        failure{
            mail subject: 'build is success',
                  to: 'sivapujithapathipati@gmail.com'
        }
    }
}


